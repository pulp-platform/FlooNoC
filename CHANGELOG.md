# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/) and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## Unreleased

### Added

- Added NoC generation framework called `floogen`. Also added documentation for `floogen` in the `docs` folder.
- Added Chimney Parameters `EnMgrPort` and `EnSbrPort` to properly parametrize Manager resp. Subordinate-only instances of a chimney
- Added `XYRouteOpt` parameter to router to enable/disable routing optimizations when using `XYRouting`

### Changed

- the exported include folder of the `floo` package is moved to `hw/include`.
- The `LICENSE` file was updated to reflect that the project uses the `Solderpad Hardware License Version 2.1` for all `hw` files and the `Apache License 2.0` for software related files.
- The directory was restructured to accomodate the new `floogen` framework. The `src` was renamed to `hw`, which contains only SystemVerilog code. Test modules and testbenches were also moved to `hw/test` and `hw/tb` respectively. The same holds true for wave files, which are now located in `hw/tb/wave`.
- The SV packages `floo_axi_pkg` and `floo_narrow_wide_pkg` are now generated by `floogen`. The configuration files were moved to the `floogen/examples` folder, and were aligned with the new `floogen` configuration format, that is written in `YAML` instead of `hjson`.
- Reworked the python dependencies to use `pyproject.toml` instead of `requirements.txt`. Furthermore, the python requirement was bumped to `3.10` due to `floogen` (which makes heavy use of the newer `match` syntax)
- Removed `xy_id_i` ports from AXI chimneys in favor of a generic `id_i` port for both `IdTable` and `XYRouting`
- Changed auto-generated package configuration schema. The `header` field is replaced in favor of a `routing` field that better represents the information needed for routing.
- `XYRouting` now also supports a routing table similar to the `IdTable` routing table. Before the destination was determined based on a couple of bits in the address. This however did not allow for a lot of flexibility and requires a larger addres width.

### Fixed

- Fixed missing backpressure in the `NoRoB` version of the reorder buffer, which could lead to overflow of counters

### Removed

- `axi_channel_compare` was removed in favor of `axi_chan_compare` from the `axi` repository.
- Removed flit generation script `flit_gen.py` including configuration files, since this is now integrated into `floogen` (in conjunction with the `--only-pkg` flag)

## [0.2.1] - 2023-10-13

### Changed

- Bump dependencies

## [0.2.0] - 2023-10-04

### Changed

- Renamed `*_flit_pkg` to `*_pkg`
- New naming scheme of ports: All AXI ports are now prefixed with `axi_`, all FlooNoC links are now prefixed with `floo_`
- Renamed `floo_param_pkg` to `floo_test_pkg`
- Renamed AXI `resp_t` structs to `rsp_t`
- Changed configuration format to align with upcoming FlooNoC generation script

### Added

- Table based routing support in `narrow_wide_chimney`
- Support for different number of inputs and outputs in `narrow_wide_router`
- Add wrapper for different types of Reorder Buffers in chimneys
- Support for simple RoB-less chimneys with ID counters

### Fixed

- Test modules `floo_axi_rand_slave` & `floo_dma_test_node` now support `addr_width > 32`
- Fixed synchronization issues for ATOP B and R responses

## [0.1.0] - 2023-06-19

### Added

- Initial early public release
